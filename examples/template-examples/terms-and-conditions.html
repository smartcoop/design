<!DOCTYPE html>
<html class="u-maximize-height" dir="ltr" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex">
    <title>Dashboard - Smart Design System
    </title>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/prototype.css">
    <link rel="stylesheet" href="/css/styleguide-customizations.css">
    <script src="https://unpkg.com/htmx.org@1.6.0"></script>
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
</head>

<body>
    <div class="c-app-layout">
        <header class="u-position-fixed u-maximize-width">
            <div class="c-navbar c-navbar--scrollable">
                <div class="c-toolbar">
                    <div class="c-toolbar__left">
                        <div class="c-toolbar__item">
                            <div class="c-brand c-brand--xsmall">
                                <a href="/prototypes/account/super-user-homepage.html">
                                    <img src="/images/logo.svg" alt="Smart">
                                </a>
                            </div>
                        </div>
                        <div class="c-toolbar__item">
                            <nav>
                                <ul class="c-pill-navigation">
                                </ul>
                            </nav>
                        </div>
                    </div>
                    <div class="c-toolbar__right">
                        <div class="c-toolbar__item">
                            <nav>
                                <ul class="c-pill-navigation">
                                    <li class="c-pill-navigation__item c-pill-navigation__item--has-child-menu">
                                        <button type="button" data-menu="lang-switch">Français</button>
                                        <ul class="c-menu c-menu--large" id="lang-switch">
                                            <li class="c-menu__item">
                                                <a class="c-menu__label" href="#">Français</a>
                                            </li>
                                            <li class="c-menu__item">
                                                <a class="c-menu__label" href="#">Néerlandais</a>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                        <div class="c-toolbar__item">
                            <button class="c-user-navigation" href="#" data-menu="userMenu">
                                <div class="c-avatar c-avatar--img">
                                    <img src="/images/avatars/1.jpg" alt="avatar">
                                </div>
                                <p class="c-avatar-and-text__text">Alice Henslay (HEA) </p>
                            </button>
                            <ul class="c-menu c-menu--large" id="userMenu">
                                <!-- @todo add correct user menu items-->
                                <li class="c-menu__info">
                                    <div class="c-avatar-and-text">
                                        <div class="c-avatar c-avatar--img">
                                            <img src="/images/avatars/1.jpg" alt="avatar">
                                        </div>
                                        <div class="c-avatar-and-text__text">
                                            <p>Signed in as <strong>Alice</strong>
                                            </p>
                                        </div>
                                    </div>
                                </li>
                                <li class="c-menu__divider" role="presentational"></li>
                                <li class="c-menu__item">
                                    <a class="c-menu__label" href="/prototypes/account/as-member.html">Act as a member</a>
                                </li>
                                <li class="c-menu__item">
                                    <a class="c-menu__label" href="/prototypes/account/as-client.html">Act as a client</a>
                                </li>
                                <li class="c-menu__divider" role="presentational"></li>
                                <li class="c-menu__item">
                                    <a class="c-menu__label" href="#">Terms and conditions</a>
                                </li>
                                <li class="c-menu__divider" role="presentational"></li>
                                <li class="c-menu__item">
                                    <a class="c-menu__label" href="#">Sign out</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <main class="u-maximize-width u-scroll-wrapper">
            <div class="c-app-layout-inner">
                <div class="c-app-layout-inner__sidebar u-position-fixed">
                    <ul class="c-side-menu">
                        <li class="c-side-menu__item c-side-menu__item--active">
                            <a class="c-side-menu__link" href="#">Home</a>
                        </li>
                        <li class="c-side-menu__item">
                            <a class="c-side-menu__link" href="#">Prestation en cours</a>
                        </li>
                        <li class="c-side-menu__item">
                            <a class="c-side-menu__link" href="#">Nouvelle prestation</a>
                        </li>
                        <li class="c-side-menu__item">
                            <a class="c-side-menu__link" href="#">Simulation</a>
                        </li>
                        <li class="c-side-menu__item">
                            <a class="c-side-menu__link" href="#">Votre compte</a>
                        </li>
                        <li class="c-side-menu__item">
                            <a class="c-side-menu__link" href="#">Vos informations personelles</a>
                        </li>
                        <li class="c-side-menu__item">
                            <a class="c-side-menu__link" href="#">Vos documents</a>
                        </li>
                        <li class="c-side-menu__item">
                            <a class="c-side-menu__link" href="#">Activités et projets</a>
                        </li>
                        <li class="c-side-menu__item">
                            <a class="c-side-menu__link" href="#">Formateurs associés</a>
                        </li>
                        <li class="c-side-menu__item">
                            <a class="c-side-menu__link" href="#">Documentation</a>
                        </li>
                        <li class="c-side-menu__item">
                            <a class="c-side-menu__link" href="#">Questions-réponses</a>
                        </li>
                    </ul>
                </div>
                <div class="c-app-layout-inner__content">
                    <div class="u-scroll-wrapper">
                        <div class="c-navbar u-position-fixed main-title">
                            <div class="c-toolbar">
                                <div class="c-toolbar__left">
                                    <div class="c-toolbar__item">
                                        <h2 class="c-toolbar__title">Nos conditions d'utilisations</h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="u-scroll-wrapper-body">
                            <div class="o-container o-container--large">
                                <div class="o-container-vertical--padding-small">
                                    <div class="c-table-of-content c-content">
                                        <nav class="c-table-of-content-navigation fixed" id="table-of-content-nav" role="navigation" aria-label="Table of content">
                                            <ol class="c-table-of-content__nav relativeWidth stickyPosition">
                                                <li>
                                                    <a class="c-table-of-content__nav__item" href="#" aria-selected="true">Objet du contrat</a>
                                                </li>
                                                <li>
                                                    <a class="c-table-of-content__nav__item" href="#">Définitions</a>
                                                </li>
                                                <li>
                                                    <a class="c-table-of-content__nav__item" href="#">Le titulaire</a>
                                                </li>
                                                <li>
                                                    <a class="c-table-of-content__nav__item" href="#">L'entreprise partagée</a>
                                                </li>
                                                <li>
                                                    <a class="c-table-of-content__nav__item" href="#">Création et vie d'une Activité</a>
                                                </li>
                                                <li>
                                                    <a class="c-table-of-content__nav__item" href="#">Droits de l'Entreprise partagée</a>
                                                </li>
                                                <li>
                                                    <a class="c-table-of-content__nav__item" href="#">Droits du Titulaire</a>
                                                </li>
                                                <li>
                                                    <a class="c-table-of-content__nav__item" href="#">Exclusion</a>
                                                </li>
                                                <li>
                                                    <a class="c-table-of-content__nav__item" href="#">Droit et attribution de compétence</a>
                                                </li>
                                                <li>
                                                    <a class="c-table-of-content__nav__item" href="#">Conclusion</a>
                                                </li>
                                                <div class="current-state" aria-hidden="true"></div>
                                            </ol>
                                        </nav>
                                        <div class="c-table-of-content__content">
                                            <section class="c-table-of-content__content__item u-spacer-bottom-xl u-padding-bottom-s">
                                                <p class="c-body-2 u-spacer-bottom-s">Article 1</p>
                                                <h3 class="h3 u-spacer-bottom-xs"> Objet du contrat</h3>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.</p>
                                            </section>
                                            <section class="c-table-of-content__content__item u-spacer-bottom-xl u-padding-bottom-s">
                                                <p class="c-body-2 u-spacer-bottom-s">Article 2</p>
                                                <h3 class="h3 u-spacer-bottom-xs"> Définitions</h3>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.</p>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.</p>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.</p>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.</p>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.</p>
                                            </section>
                                            <section class="c-table-of-content__content__item u-spacer-bottom-xl u-padding-bottom-s">
                                                <p class="c-body-2 u-spacer-bottom-s">Article 3</p>
                                                <h3 class="h3 u-spacer-bottom-xs"> Le titulaire</h3>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.</p>
                                            </section>
                                            <section class="c-table-of-content__content__item u-spacer-bottom-xl u-padding-bottom-s">
                                                <p class="c-body-2 u-spacer-bottom-s">Article 4</p>
                                                <h3 class="h3 u-spacer-bottom-xs"> L'entreprise partagée</h3>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.</p>
                                            </section>
                                            <section class="c-table-of-content__content__item u-spacer-bottom-xl u-padding-bottom-s">
                                                <p class="c-body-2 u-spacer-bottom-s">Article 5</p>
                                                <h3 class="h3 u-spacer-bottom-xs"> Création et vie d'une Activité</h3>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.</p>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.</p>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.</p>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.</p>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.</p>
                                            </section>
                                            <section class="c-table-of-content__content__item u-spacer-bottom-xl u-padding-bottom-s">
                                                <p class="c-body-2 u-spacer-bottom-s">Article 6</p>
                                                <h3 class="h3 u-spacer-bottom-xs"> Droits de l'Entreprise partagée</h3>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.</p>
                                            </section>
                                            <section class="c-table-of-content__content__item u-spacer-bottom-xl u-padding-bottom-s">
                                                <p class="c-body-2 u-spacer-bottom-s">Article 7</p>
                                                <h3 class="h3 u-spacer-bottom-xs"> Droits du Titulaire</h3>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.</p>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.</p>
                                            </section>
                                            <section class="c-table-of-content__content__item u-spacer-bottom-xl u-padding-bottom-s">
                                                <p class="c-body-2 u-spacer-bottom-s">Article 8</p>
                                                <h3 class="h3 u-spacer-bottom-xs"> Exclusion</h3>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.</p>
                                            </section>
                                            <section class="c-table-of-content__content__item u-spacer-bottom-xl u-padding-bottom-s">
                                                <p class="c-body-2 u-spacer-bottom-s">Article 9</p>
                                                <h3 class="h3 u-spacer-bottom-xs"> Droit et attribution de compétence</h3>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.</p>
                                            </section>
                                            <section class="c-table-of-content__content__item u-spacer-bottom-xl u-padding-bottom-s">
                                                <p class="c-body-2 u-spacer-bottom-s">Article 10</p>
                                                <h3 class="h3 u-spacer-bottom-xs"> Conclusion</h3>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.</p>
                                            </section>
                                            <div class="back-to-top">
                                                <button class="c-button c-button--secondary c-button--icon u-shadow-10">
                                                    <span class="c-button__content">
                                                        <div class="o-svg-icon o-svg-icon-arrow-up  ">
                                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                <path d="M12 4C12.2652 4 12.5196 4.10536 12.7071 4.29289L18.7071 10.2929C19.0976 10.6834 19.0976 11.3166 18.7071 11.7071C18.3166 12.0976 17.6834 12.0976 17.2929 11.7071L13 7.41421L13 19C13 19.5523 12.5523 20 12 20C11.4477 20 11 19.5523 11 19L11 7.41421L6.70711 11.7071C6.31658 12.0976 5.68342 12.0976 5.29289 11.7071C4.90237 11.3166 4.90237 10.6834 5.29289 10.2929L11.2929 4.29289C11.4804 4.10536 11.7348 4 12 4Z" fill="#595959" />
                                                            </svg>
                                                        </div>
                                                        <div class="u-sr-accessible">Back to table of content</div>
                                                    </span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <script>
                window.addEventListener('load', (event) => {
                    class Toc {
                        constructor(el) {
                            this.el = el;
                            this.toc__nav__list = this.el.querySelector(".c-table-of-content__nav");
                            this.toc__nav__list__items = this.el.querySelectorAll("a.c-table-of-content__nav__item");
                            this.toc__content__list = document.querySelector(".c-table-of-content__content");
                            this.toc__content__list__items = document.querySelectorAll(".c-table-of-content__content__item");
                            this.current_state = this.el.querySelector(".current-state");
                            this.relativeWidth = (this.toc__nav__list.classList.contains('relativeWidth')) ? true : false;
                            this.toc__back_to_top_btn = this.el.querySelector(".back-to-top");
                            this.toc__back_to_top_btn__link = this.toc__back_to_top_btn.querySelector("button");
                            this.toc__back_to_top_btn__visible = false;
                            this.el_init_top = this.el.getBoundingClientRect().top;
                            this.toc__content__list__items__posTop_from_parent = [];
                            this.lastScrollTop = 0;
                            this.whatever = this.callBackScrollEvent.bind(this, el);
                            this.init();
                        }

                        init() {
                            this.current_nav_item = this.toc__nav__list.querySelector("[aria-selected]");
                            this.toc__back_to_top_btn.style.display = 'none';

                            //- Set current item selected                 
                            let current_index = [...this.toc__nav__list__items].indexOf(this.current_nav_item)

                            this.resetActiveToc(this.current_nav_item, null, this.toc__content__list__items[current_index]);
                            //- this.scrollTo(this.toc__content__list__items[current_index]);

                            this.toc__nav__list__items.forEach((table_of_content__item, i) => {
                                // Attach events to the toc__nav__list__items if the table_of_content__item have toc__content. Otherwise they just act as links

                                table_of_content__item.setAttribute('data-id', this.convertToSlug(table_of_content__item.textContent));
                                this.toc__content__list__items[i].setAttribute('id', this.convertToSlug(table_of_content__item.textContent));
                                if (this.toc__content__list__items.length) this.attachEvents(table_of_content__item, i);


                                if (i === this.toc__nav__list__items.length - 1) {
                                    this.callback(current_index);
                                }
                            });

                            this.toc__back_to_top_btn__link.addEventListener("click", (e) => {
                                e.preventDefault();
                                this.scrollTo(this.toc__nav__list);
                            });
                            window.addEventListener('hashchange', () => {
                                this.init();
                            });

                        }

                        attachScrollEvents() {
                            window.addEventListener("scroll", this.whatever);
                        }


                        callBackScrollEvent(el) {
                            //- let gap_from_top =
                            console.log(this.el.getBoundingClientRect().top); // 154 OK
                            let toc__posTop_from_viewport = this.el.getBoundingClientRect().top - this.el_init_top - 128 - 26 - 50; // 126 for header and title fiex, 26 for padding, 50 for a gap
                            let window__posTop_from_viewport = window.scrollY;
                            //- console.log(window__posTop_from_viewport);
                            var st = window.pageYOffset || document.documentElement.scrollTop;

                            //- Handling back-to-top btn
                            console.log(this.toc__content__list__items__posTop_from_parent);
                            if (-toc__posTop_from_viewport > this.toc__content__list__items__posTop_from_parent[1]) {
                                if (this.toc__back_to_top_btn__visible === false) {
                                    this.fadeIn(this.toc__back_to_top_btn);
                                    this.toc__back_to_top_btn__visible = true;
                                }
                            } else {
                                if (this.toc__back_to_top_btn__visible === true) {
                                    this.fadeOut(this.toc__back_to_top_btn);
                                    this.toc__back_to_top_btn__visible = false;
                                }
                            }

                            //- Handling active states on scroll
                            for (let i = 0; i < this.toc__content__list__items__posTop_from_parent.length; i++) {
                                if (st > this.lastScrollTop) {
                                    //- scrolling-down
                                    if ((-toc__posTop_from_viewport) > this.toc__content__list__items__posTop_from_parent[i] && (-toc__posTop_from_viewport) < this.toc__content__list__items__posTop_from_parent[i + 1]) {
                                        this.resetActiveToc(this.toc__nav__list__items[i], this.toc__content__list__items[i - 1], this.toc__content__list__items[i])
                                    }
                                } else {
                                    //- scrolling-up
                                    if ((-toc__posTop_from_viewport) > this.toc__content__list__items__posTop_from_parent[i] && (-toc__posTop_from_viewport) < this.toc__content__list__items__posTop_from_parent[i + 1]) {
                                        this.resetActiveToc(this.toc__nav__list__items[i], this.toc__content__list__items[i + 1], this.toc__content__list__items[i])
                                    }
                                }
                            }
                            this.lastScrollTop = st <= 0 ? 0 : st;
                        }

                        callback(current_index) {
                            this.toc__nav__list__items.forEach((table_of_content__item, i) => {
                                this.toc__content__list__items__posTop_from_parent.push(Math.round(this.toc__content__list__items[i].getBoundingClientRect().top));
                            });
                            this.attachScrollEvents();

                            //- Get # Hashtag from url (ex: lentreprise-partage)
                            let hash = window.top.location.hash.substr(1);
                            if (hash.length) {
                                let current_hash_content_item = this.toc__content__list.querySelector("#" + hash);
                                let current_hash_nav_item = document.querySelector('[data-id="' + hash + '"]');
                                this.resetActiveToc(current_hash_nav_item, this.toc__content__list__items[current_index], current_hash_content_item);
                                this.scrollTo(current_hash_content_item);
                            }
                        }

                        resetActiveToc(newTocNavItem, oldTocContentItem, newTocContentItem) {
                            this.positionTopCurrentState(newTocNavItem);
                            for (let i = 0; i < this.toc__nav__list__items.length; i++) {
                                this.toc__nav__list__items[i].removeAttribute("aria-selected");
                            }
                            if (newTocNavItem) newTocNavItem.setAttribute("aria-selected", "true");


                            if (oldTocContentItem) oldTocContentItem.classList.remove("active");
                            if (newTocContentItem) newTocContentItem.classList.add("active");
                        }

                        attachEvents(table_of_content__item, i) {
                            // Handle clicking of toc__items for mouse users
                            table_of_content__item.addEventListener("click", (e) => {
                                e.preventDefault();
                                e.currentTarget.classList.add("clicked");
                                window.removeEventListener("scroll", this.whatever);
                                let currentToc = this.toc__nav__list.querySelector("[aria-selected]");
                                this.switchToc(currentToc, e.currentTarget);
                            });
                        }

                        switchToc(oldTocNavItem, newTocNavItem) {
                            newTocNavItem.focus();

                            let index = [...this.toc__nav__list__items].indexOf(newTocNavItem);
                            let oldIndex = [...this.toc__nav__list__items].indexOf(oldTocNavItem);

                            this.resetActiveToc(newTocNavItem, this.toc__content__list__items[oldIndex], this.toc__content__list__items[index]);
                            this.scrollTo(this.toc__content__list__items[index]);
                            var that = this;
                            setTimeout(function() {
                                newTocNavItem.classList.remove("clicked");
                            }, 400);
                            setTimeout(function() {
                                window.addEventListener("scroll", that.whatever);
                            }, 900);
                        }

                        positionTopCurrentState(child) {
                            // Position of the blue background
                            let table_of_content_Y = this.toc__nav__list.getBoundingClientRect().top;
                            if (child) {
                                let relativePosTop = child.getBoundingClientRect().top - table_of_content_Y;
                                this.current_state.style.top = relativePosTop + 'px';
                                if (this.relativeWidth) {
                                    let childWidth = child.offsetWidth;
                                    this.current_state.style.width = childWidth + 'px';
                                }
                            }
                        }

                        scrollTo(element) {
                            let parentPosition = this.el.getBoundingClientRect().top + window.scrollY;
                            let elementPosition = element.offsetTop - (parentPosition + 160);
                            let offsetPosition = (elementPosition + parentPosition);
                            console.log("element.offsetTop: " + element.offsetTop);
                            console.log("elementPosition: " + elementPosition);
                            console.log("parentPosition: " + parentPosition);
                            window.scrollTo({
                                top: offsetPosition,
                                behavior: "smooth"
                            });
                        }

                        convertToSlug(str) {
                            str = str.replace(/^\s+|\s+$/g, ''); // trim
                            str = str.toLowerCase();

                            // remove accents, swap ñ for n, etc
                            var from = "àáäâèéëêìíïîòóöôùúüûñç·/_,:;";
                            var to = "aaaaeeeeiiiioooouuuunc------";
                            for (var i = 0, l = from.length; i < l; i++) {
                                str = str.replace(new RegExp(from.charAt(i), 'g'), to.charAt(i));
                            }

                            str = str.replace(/[^a-z0-9 -]/g, '') // remove invalid chars
                                .replace(/\s+/g, '-') // collapse whitespace and replace by -
                                .replace(/-+/g, '-'); // collapse dashes

                            return str;
                        }

                        fadeOut(el) {
                            el.style.opacity = 1;
                            (function fade() {
                                if ((el.style.opacity -= .1) < 0) {
                                    el.style.display = "none";
                                } else {
                                    requestAnimationFrame(fade);
                                }
                            })();
                        };

                        fadeIn(el, display) {
                            el.style.opacity = 0;
                            el.style.display = display || "block";
                            (function fade() {
                                var val = parseFloat(el.style.opacity);
                                if (!((val += .1) > 1)) {
                                    el.style.opacity = val;
                                    requestAnimationFrame(fade);
                                }
                            })();
                        };
                    }

                    const toclists = document.querySelectorAll(".c-table-of-content");

                    if (toclists.length) {
                        [...toclists].map((toclist) => new Toc(toclist));
                    }
                });
            </script>
        </main>
    </div>

    <script src="/js/bundle-prototype.js"></script>
    <script src="/js/bundle-client.js"></script>
</body>

</html>