extends /templates/prototypes/_layouts/default

block append pageVariables
    - var moduleTitle = "Formateurs"
    - var view = "list"

block content
    .c-app-layout-inner
        .c-app-layout-inner__sidebar.u-position-fixed
            include /templates/prototypes/partials/side-menu-cfa

        .c-app-layout-inner__content
            include /templates/prototypes/partials/main-title-filters-formateurs

            .o-container.o-container--large
                .o-container-vertical--padding-small.u-position-relative
                    ol.c-list
                        .c-list__header
                            li.c-list__item.o-grid
                                .o-grid-col-7.o-grid-col-bp3-6.o-grid
                                    .c-list__item--cell.o-grid-col-bp3-1 ID
                                    .c-list__item--cell.o-grid-col-bp3-5 Formateur
                                .o-grid-col-5.o-grid-col-bp3-6.o-grid
                                    .c-list__item--cell.o-grid-col-bp3-2 Modifications
                                    .c-list__item--cell.o-grid-col-bp3-1 Status
                                    .c-list__item--cell.o-grid-col-bp3-3
                        .c-list__body
                            li.c-list__item.o-grid
                                .o-grid-col-7.o-grid-col-bp3-6.o-grid
                                    .c-list__item--cell.o-grid-col-bp3-1.small 00337D-99
                                    .c-list__item--cell.o-grid-col-bp3-5 example@site.com
                                .o-grid-col-5.o-grid-col-bp3-6.o-grid
                                    .c-list__item--cell.o-grid-col-bp3-2.o-flex.o-flex--vertical-center 10/17/2022
                                    .c-list__item--cell.o-grid-col-bp3-2.o-flex.o-flex--vertical-center
                                        +c-status-pill({skin: 'success'}) Super user
                                    .c-list__item--cell.align-right.o-grid-col-bp3-3
                                        +c-button({ layout: 'icon-only', icon: 'add', skin: 'borderless'}) Add more
                                        +c-button({ layout: 'icon-only', icon: 'delete', skin: 'borderless'}) Delete
                                        +c-button({ layout: 'icon-only', icon: 'edit', skin: 'borderless'}) Edit
                            li.c-list__item.o-grid
                                .o-grid-col-7.o-grid-col-bp3-6.o-grid
                                    .c-list__item--cell.o-grid-col-bp3-1.small 00337D-99
                                    .c-list__item--cell.o-grid-col-bp3-5 example@site.com
                                .o-grid-col-5.o-grid-col-bp3-6.o-grid
                                    .c-list__item--cell.o-grid-col-bp3-2.o-flex.o-flex--vertical-center 10/17/2022
                                    .c-list__item--cell.o-grid-col-bp3-2.o-flex.o-flex--vertical-center
                                        +c-status-pill({skin: 'success'}) Super user
                                    .c-list__item--cell.align-right.o-grid-col-bp3-3
                                        +c-button({ layout: 'icon-only', icon: 'add', skin: 'borderless'}) Add more
                                        +c-button({ layout: 'icon-only', icon: 'delete', skin: 'borderless'}) Delete
                                        +c-button({ layout: 'icon-only', icon: 'edit', skin: 'borderless'}) Edit
                            li.c-list__item.o-grid
                                .o-grid-col-7.o-grid-col-bp3-6.o-grid
                                    .c-list__item--cell.o-grid-col-bp3-1.small 00337D-99
                                    .c-list__item--cell.o-grid-col-bp3-5 example@site.com
                                .o-grid-col-5.o-grid-col-bp3-6.o-grid
                                    .c-list__item--cell.o-grid-col-bp3-2.o-flex.o-flex--vertical-center 10/17/2022
                                    .c-list__item--cell.o-grid-col-bp3-2.o-flex.o-flex--vertical-center
                                        +c-status-pill({skin: 'success'}) Super user
                                    .c-list__item--cell.align-right.o-grid-col-bp3-3
                                        +c-button({ layout: 'icon-only', icon: 'add', skin: 'borderless'}) Add more
                                        +c-button({ layout: 'icon-only', icon: 'delete', skin: 'borderless'}) Delete
                                        +c-button({ layout: 'icon-only', icon: 'edit', skin: 'borderless'}) Edit
                            li.c-list__item.o-grid
                                .o-grid-col-7.o-grid-col-bp3-6.o-grid
                                    .c-list__item--cell.o-grid-col-bp3-1.small 00337D-99
                                    .c-list__item--cell.o-grid-col-bp3-5 example@site.com
                                .o-grid-col-5.o-grid-col-bp3-6.o-grid
                                    .c-list__item--cell.o-grid-col-bp3-2.o-flex.o-flex--vertical-center 10/17/2022
                                    .c-list__item--cell.o-grid-col-bp3-2.o-flex.o-flex--vertical-center
                                        +c-status-pill({skin: 'success'}) Super user
                                    .c-list__item--cell.align-right.o-grid-col-bp3-3
                                        +c-button({ layout: 'icon-only', icon: 'add', skin: 'borderless'}) Add more
                                        +c-button({ layout: 'icon-only', icon: 'delete', skin: 'borderless'}) Delete
                                        +c-button({ layout: 'icon-only', icon: 'edit', skin: 'borderless'}) Edit
                            li.c-list__item.o-grid
                                .o-grid-col-7.o-grid-col-bp3-6.o-grid
                                    .c-list__item--cell.o-grid-col-bp3-1.small 00337D-99
                                    .c-list__item--cell.o-grid-col-bp3-5 example@site.com
                                .o-grid-col-5.o-grid-col-bp3-6.o-grid
                                    .c-list__item--cell.o-grid-col-bp3-2.o-flex.o-flex--vertical-center 10/17/2022
                                    .c-list__item--cell.o-grid-col-bp3-2.o-flex.o-flex--vertical-center
                                        +c-status-pill({skin: 'success'}) Super user
                                    .c-list__item--cell.align-right.o-grid-col-bp3-3
                                        +c-button({ layout: 'icon-only', icon: 'add', skin: 'borderless'}) Add more
                                        +c-button({ layout: 'icon-only', icon: 'delete', skin: 'borderless'}) Delete
                                        +c-button({ layout: 'icon-only', icon: 'edit', skin: 'borderless'}) Edit
                            li.c-list__item.o-grid
                                .o-grid-col-7.o-grid-col-bp3-6.o-grid
                                    .c-list__item--cell.o-grid-col-bp3-1.small 00337D-99
                                    .c-list__item--cell.o-grid-col-bp3-5 example@site.com
                                .o-grid-col-5.o-grid-col-bp3-6.o-grid
                                    .c-list__item--cell.o-grid-col-bp3-2.o-flex.o-flex--vertical-center 10/17/2022
                                    .c-list__item--cell.o-grid-col-bp3-2.o-flex.o-flex--vertical-center
                                        +c-status-pill({skin: 'success'}) Super user
                                    .c-list__item--cell.align-right.o-grid-col-bp3-3
                                        +c-button({ layout: 'icon-only', icon: 'add', skin: 'borderless'}) Add more
                                        +c-button({ layout: 'icon-only', icon: 'delete', skin: 'borderless'}) Delete
                                        +c-button({ layout: 'icon-only', icon: 'edit', skin: 'borderless'}) Edit


    script.
        window.addEventListener('load', (event) => {
            class SwitchViewButton {
                constructor(els) {
                    this.els = els;
                    this.target__el = document.querySelector('.' + this.els[0].getAttribute('data-switch-target') );

                    console.log(els);


                    this.init();
                }

                init() {
                    this.els.forEach((el, i) => {
                        // Attach events
                        el.addEventListener("click", (e) => {
                            e.preventDefault();
                            this.toggleClass(this.target__el, ( el.getAttribute('data-switch-target') + '--' + el.getAttribute('data-toggle')));
                            this.els.forEach((il) => {
                                //- Toggle class for other buttons around
                                this.toggleClass(il, "c-button--secondary");
                                this.toggleClass(il, "c-button--primary");
                            });

                        });
                    });

                }

                toggleClass(target, toggleClass){
                    target.classList.toggle(toggleClass);
                }

            }

            const switchViewButtons = document.querySelectorAll("[data-toggle]");

            if (switchViewButtons.length) {
                new SwitchViewButton(switchViewButtons);
            }
        });
