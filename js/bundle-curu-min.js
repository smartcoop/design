!function(){return function t(e,i,o){function n(s,c){if(!i[s]){if(!e[s]){var r="function"==typeof require&&require;if(!c&&r)return r(s,!0);if(_)return _(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var l=i[s]={exports:{}};e[s][0].call(l.exports,function(t){return n(e[s][1][t]||t)},l,l.exports,t,e,i,o)}return i[s].exports}for(var _="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}}()({1:[function(t,e,i){"use strict";t("./modules/table-of-content")},{"./modules/table-of-content":2}],2:[function(t,e,i){"use strict";function o(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function _(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e,this.toc__nav__list=this.el.querySelector(".c-table-of-content__nav"),this.toc__nav__list__items=this.el.querySelectorAll("a.c-table-of-content__nav__item"),this.toc__content__list=document.querySelector(".c-table-of-content__content"),this.toc__content__list__items=document.querySelectorAll(".c-table-of-content__content__item"),this.current__index=0,this.current_state=this.el.querySelector(".current-state"),this.relativeWidth=!!this.toc__nav__list.classList.contains("relativeWidth"),this.toc__back_to_top_btn=this.el.querySelector(".back-to-top"),this.toc__back_to_top_btn__link=this.toc__back_to_top_btn.querySelector("button"),this.toc__back_to_top_btn__visible=!1,this.el_init_top=this.el.offsetTop,this.header_height=document.querySelector("header").offsetHeight,this.main_title_height=document.querySelector(".main-title").offsetHeight,this.elPaddingTop=parseFloat(window.getComputedStyle(this.el,null).getPropertyValue("padding-top")),this.toc__content__list__items__posTop_from_parent=[],this.lastScrollTop=0,this.lastScrollTopd=0,this.currentUrl=window.location.href.split("#")[0],this.whatever=this.callBackScrollEvent.bind(this,e),this.whateverHash=this.callBackHashEvent.bind(this,e),this.init()}var e,i,n;return e=t,(i=[{key:"init",value:function(){var t=this;this.current_nav_item=this.toc__nav__list.querySelector("[aria-selected]"),this.toc__back_to_top_btn.style.display="none";var e=o(this.toc__nav__list__items).indexOf(this.current_nav_item);this.toc__nav__list__items.forEach(function(i,o){i.setAttribute("data-id",t.convertToSlug(i.textContent)),t.toc__content__list__items[o].setAttribute("data-id",t.convertToSlug(i.textContent)),t.toc__content__list__items.length&&t.attachClickEvents(i,o),o===t.toc__nav__list__items.length-1&&t.callbackItemsSet(e,t.current_nav_item)}),this.toc__back_to_top_btn__link.addEventListener("click",function(e){e.preventDefault(),t.scrollTo(t.toc__nav__list)}),window.addEventListener("hashchange",this.whateverHash)}},{key:"attachClickEvents",value:function(t,e){var i=this;t.addEventListener("click",function(t){t.preventDefault(),t.currentTarget.classList.add("clicked"),window.removeEventListener("scroll",i.whatever),window.removeEventListener("hashchange",i.whateverHash);var e=i.toc__nav__list.querySelector("[aria-selected]");i.switchTocAfterClick(e,t.currentTarget)})}},{key:"attachScrollEvents",value:function(){window.addEventListener("scroll",this.whatever)}},{key:"callBackScrollEvent",value:function(t){var e=this.el.getBoundingClientRect().top-this.el_init_top-128-26-120;window.scrollY,window.pageYOffset||document.documentElement.scrollTop;-this.el.getBoundingClientRect().top>this.toc__nav__list.clientHeight?!1===this.toc__back_to_top_btn__visible&&(this.fadeIn(this.toc__back_to_top_btn),this.toc__back_to_top_btn__visible=!0):!0===this.toc__back_to_top_btn__visible&&(this.fadeOut(this.toc__back_to_top_btn),this.toc__back_to_top_btn__visible=!1);var i=window.pageYOffset||document.documentElement.scrollTop;this.lastScrollTop,this.lastScrollTop=i<=0?0:i,this.toc__content__list_length=this.toc__content__list__items__posTop_from_parent.length;for(var o=0;o<this.toc__content__list_length;o++)if(-e>this.toc__content__list__items__posTop_from_parent[o]&&-e<this.toc__content__list__items__posTop_from_parent[o+1])if(-e>this.toc__content__list__items__posTop_from_parent[this.toc__content__list_length-3]+this.toc__content__list__items[this.toc__content__list_length-3].offsetHeight/2&&-e<this.toc__content__list__items__posTop_from_parent[this.toc__content__list_length-2]){console.log("switch"),console.log(this.toc__nav__list__items[o+1]),console.log(this.toc__content__list__items[o+1]),window.removeEventListener("hashchange",this.whateverHash),this.resetActiveToc(this.toc__nav__list__items[o+1],this.toc__content__list__items[o+1],!0);var n=this;setTimeout(function(){window.addEventListener("hashchange",n.whateverHash)},750)}else if(this.current__index!=this.toc__nav__list__items[o]){window.removeEventListener("hashchange",this.whateverHash),this.resetActiveToc(this.toc__nav__list__items[o],this.toc__content__list__items[o],!0);n=this;setTimeout(function(){window.addEventListener("hashchange",n.whateverHash)},750)}}},{key:"callBackHashEvent",value:function(t){var e=window.top.location.hash.substr(1);if(e.length){window.removeEventListener("scroll",this.whatever);var i=this.toc__content__list.querySelector('[data-id="'+e+'"]');this.resetActiveToc(this.toc__nav__list.querySelector('[data-id="'+e+'"]'),i,!0),this.scrollTo(i);var o=this;setTimeout(function(){window.addEventListener("scroll",o.whatever)},750)}}},{key:"callbackItemsSet",value:function(t,e){var i=this;this.toc__nav__list__items.forEach(function(t,e){i.toc__content__list__items__posTop_from_parent.push(Math.round(i.toc__content__list__items[e].offsetTop))}),this.toc__content__list__items__posTop_from_parent.push(Math.round(this.toc__content__list__items[this.toc__content__list__items.length-1].offsetTop+this.toc__content__list__items[this.toc__content__list__items.length-1].offsetHeight));var n=window.top.location.hash.substr(1);if(n.length){var _=this.toc__content__list.querySelector('[data-id="'+n+'"]'),s=o(this.toc__content__list__items).indexOf(_);this.resetActiveToc(this.toc__nav__list.querySelector('[data-id="'+n+'"]'),_,!0),this.scrollTo(this.toc__content__list__items[s])}else this.resetActiveToc(e,this.toc__content__list__items[t],!1);var c=this;setTimeout(function(){c.attachScrollEvents()},750)}},{key:"resetActiveToc",value:function(t,e,i){this.positionTopCurrentState(t),i&&(window.location.hash=this.convertToSlug(t.textContent));for(var o=0;o<this.toc__nav__list__items.length;o++)this.toc__nav__list__items[o].removeAttribute("aria-selected");for(var n=0;n<this.toc__content__list__items.length;n++)this.toc__content__list__items[n].classList.remove("active");t&&t.setAttribute("aria-selected","true"),e&&e.classList.add("active"),this.current__index=t}},{key:"switchTocAfterClick",value:function(t,e){e.focus();var i=o(this.toc__nav__list__items).indexOf(e);this.resetActiveToc(e,this.toc__content__list__items[i],!0),this.scrollTo(this.toc__content__list__items[i]);var n=this;setTimeout(function(){e.classList.remove("clicked")},400),setTimeout(function(){window.addEventListener("scroll",n.whatever),window.addEventListener("hashchange",n.whateverHash)},750)}},{key:"positionTopCurrentState",value:function(t){var e=this.toc__nav__list.getBoundingClientRect().top;if(t){var i=t.clientHeight,o=t.getBoundingClientRect().top-e;if(this.current_state.style.top=o+"px",this.current_state.style.height=i+"px",this.relativeWidth){var n=t.offsetWidth;this.current_state.style.width=n+"px"}}}},{key:"scrollTo",value:function(t){var e=this.el.getBoundingClientRect().top+window.scrollY-this.header_height-this.main_title_height,i=0===o(this.toc__content__list__items).indexOf(t)?176+this.elPaddingTop:150+this.elPaddingTop,n=t.offsetTop+(e-i);window.scrollTo({top:n,behavior:"smooth"})}},{key:"convertToSlug",value:function(t){t=(t=t.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var e="àáäâèéëêìíïîòóöôùúüûñç·/_,:;",i=0,o=e.length;i<o;i++)t=t.replace(new RegExp(e.charAt(i),"g"),"aaaaeeeeiiiioooouuuunc------".charAt(i));return t=t.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}},{key:"fadeOut",value:function(t){t.style.opacity=1,function e(){(t.style.opacity-=.1)<0?t.style.display="none":requestAnimationFrame(e)}()}},{key:"fadeIn",value:function(t,e){t.style.opacity=0,t.style.display=e||"block",function e(){var i=parseFloat(t.style.opacity);(i+=.1)>1||(t.style.opacity=i,requestAnimationFrame(e))}()}}])&&_(e.prototype,i),n&&_(e,n),t}(),c=document.querySelectorAll(".c-table-of-content");c.length&&o(c).map(function(t){return new s(t)})},{}]},{},[1]);